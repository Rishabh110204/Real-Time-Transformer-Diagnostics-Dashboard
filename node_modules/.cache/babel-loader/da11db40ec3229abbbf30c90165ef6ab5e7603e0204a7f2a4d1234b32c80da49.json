{"ast":null,"code":"var _jsxFileName = \"D:\\\\000 IMP\\\\hps\\\\src\\\\scenes\\\\LiveMap\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { getDatabase, ref, onValue } from 'firebase/database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = () => {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    console.log(\"Component mounted\");\n    const db = getDatabase();\n    const locationRef = ref(db, 'coordinates');\n    onValue(locationRef, snapshot => {\n      const data = snapshot.val();\n      console.log(\"Firebase data:\", data);\n      if (data && data.latitude && data.longitude) {\n        setLocation({\n          lat: data.latitude,\n          lng: data.longitude\n        });\n      } else {\n        setError(\"Invalid location data\");\n      }\n    }, error => {\n      console.error(\"Firebase error:\", error);\n      setError(\"Error fetching location data\");\n    });\n  }, []);\n  const mapContainerStyle = {\n    width: '100%',\n    height: '400px'\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(LoadScript, {\n    googleMapsApiKey: \"AIzaSyBt0EBeEOhb6s_nvQqPBh_vYMFQXFG6gBc\",\n    children: location ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: mapContainerStyle,\n      center: location,\n      zoom: 10,\n      children: /*#__PURE__*/_jsxDEV(Marker, {\n        position: location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading map...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"T1fEaCzQdoK20qLAFqfcCiHV1Ow=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","useEffect","GoogleMap","LoadScript","Marker","getDatabase","ref","onValue","jsxDEV","_jsxDEV","MapComponent","_s","location","setLocation","error","setError","console","log","db","locationRef","snapshot","data","val","latitude","longitude","lat","lng","mapContainerStyle","width","height","children","fileName","_jsxFileName","lineNumber","columnNumber","googleMapsApiKey","center","zoom","position","_c","$RefreshReg$"],"sources":["D:/000 IMP/hps/src/scenes/LiveMap/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\nimport { getDatabase, ref, onValue } from 'firebase/database';\r\n\r\nconst MapComponent = () => {\r\n  const [location, setLocation] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Component mounted\");\r\n    const db = getDatabase();\r\n    const locationRef = ref(db, 'coordinates');\r\n    \r\n    onValue(locationRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log(\"Firebase data:\", data);\r\n      if (data && data.latitude && data.longitude) {\r\n        setLocation({ lat: data.latitude, lng: data.longitude });\r\n      } else {\r\n        setError(\"Invalid location data\");\r\n      }\r\n    }, (error) => {\r\n      console.error(\"Firebase error:\", error);\r\n      setError(\"Error fetching location data\");\r\n    });\r\n  }, []);\r\n\r\n  const mapContainerStyle = {\r\n    width: '100%',\r\n    height: '400px'\r\n  };\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <LoadScript googleMapsApiKey=\"AIzaSyBt0EBeEOhb6s_nvQqPBh_vYMFQXFG6gBc\">\r\n      {location ? (\r\n        <GoogleMap\r\n          mapContainerStyle={mapContainerStyle}\r\n          center={location}\r\n          zoom={10}\r\n        >\r\n          <Marker position={location} />\r\n        </GoogleMap>\r\n      ) : (\r\n        <div>Loading map...</div>\r\n      )}\r\n    </LoadScript>\r\n  );\r\n};\r\n\r\nexport default MapComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,UAAU,EAAEC,MAAM,QAAQ,wBAAwB;AACtE,SAASC,WAAW,EAAEC,GAAG,EAAEC,OAAO,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACde,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC,MAAMC,EAAE,GAAGb,WAAW,CAAC,CAAC;IACxB,MAAMc,WAAW,GAAGb,GAAG,CAACY,EAAE,EAAE,aAAa,CAAC;IAE1CX,OAAO,CAACY,WAAW,EAAGC,QAAQ,IAAK;MACjC,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC3BN,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEI,IAAI,CAAC;MACnC,IAAIA,IAAI,IAAIA,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,SAAS,EAAE;QAC3CX,WAAW,CAAC;UAAEY,GAAG,EAAEJ,IAAI,CAACE,QAAQ;UAAEG,GAAG,EAAEL,IAAI,CAACG;QAAU,CAAC,CAAC;MAC1D,CAAC,MAAM;QACLT,QAAQ,CAAC,uBAAuB,CAAC;MACnC;IACF,CAAC,EAAGD,KAAK,IAAK;MACZE,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCC,QAAQ,CAAC,8BAA8B,CAAC;IAC1C,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,iBAAiB,GAAG;IACxBC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE;EACV,CAAC;EAED,IAAIf,KAAK,EAAE;IACT,oBAAOL,OAAA;MAAAqB,QAAA,GAAK,SAAO,EAAChB,KAAK;IAAA;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAClC;EAEA,oBACEzB,OAAA,CAACN,UAAU;IAACgC,gBAAgB,EAAC,yCAAyC;IAAAL,QAAA,EACnElB,QAAQ,gBACPH,OAAA,CAACP,SAAS;MACRyB,iBAAiB,EAAEA,iBAAkB;MACrCS,MAAM,EAAExB,QAAS;MACjByB,IAAI,EAAE,EAAG;MAAAP,QAAA,eAETrB,OAAA,CAACL,MAAM;QAACkC,QAAQ,EAAE1B;MAAS;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,gBAEZzB,OAAA;MAAAqB,QAAA,EAAK;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EACzB;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAEjB,CAAC;AAACvB,EAAA,CA/CID,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AAiDlB,eAAeA,YAAY;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}