{"ast":null,"code":"var _jsxFileName = \"D:\\\\000 IMP\\\\hps\\\\src\\\\scenes\\\\All_Temp\\\\index.jsx\",\n  _s = $RefreshSig$();\n// TemperatureDisplay.js\nimport React, { useEffect, useState } from 'react';\nimport { database } from '../../firebase'; // Adjust path to firebase.js as per your project structure\nimport { ref, onValue, off } from \"firebase/database\";\nimport { Line } from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport './Temp.css'; // Import CSS file for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nconst TemperatureDisplay = () => {\n  _s();\n  const [temperatures, setTemperatures] = useState([]);\n  useEffect(() => {\n    const temperaturesRef = ref(database, 'realtimedata');\n\n    // Attach an event listener for changes in temperatures\n    const unsubscribe = onValue(temperaturesRef, snapshot => {\n      const tempData = snapshot.val();\n      if (tempData) {\n        // Convert the snapshot to an array of objects\n        const tempArray = Object.keys(tempData).map(key => ({\n          id: key,\n          ...tempData[key]\n        }));\n        setTemperatures(tempArray);\n      }\n    });\n\n    // Clean up listener on component unmount\n    return () => {\n      off(temperaturesRef);\n    };\n  }, []);\n  const formatChartData = (label, dataKey) => {\n    const labels = temperatures.map(temp => new Date(temp.timestamp).toLocaleTimeString());\n    const data = temperatures.map(temp => temp[dataKey]);\n    return {\n      labels,\n      datasets: [{\n        label,\n        data,\n        borderColor: 'rgba(75,192,192,1)',\n        backgroundColor: 'rgba(75,192,192,0.2)',\n        borderWidth: 2,\n        fill: true\n      }]\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"temperature-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Real-Time Temperature Values\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Oil Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: formatChartData('Oil Temperature', 'ot')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"LV Winding Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: formatChartData('LV Winding Temperature', 'lvt')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"LV1 Winding Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: formatChartData('LV1 Winding Temperature', 'lv1t')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"LV2 Winding Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: formatChartData('LV2 Winding Temperature', 'lv2t')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"HV Winding Temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: formatChartData('HV Winding Temperature', 'hvt')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(TemperatureDisplay, \"bFUqW0EkzQyiLDuCYWpIj14n8No=\");\n_c = TemperatureDisplay;\nexport default TemperatureDisplay;\nvar _c;\n$RefreshReg$(_c, \"TemperatureDisplay\");","map":{"version":3,"names":["React","useEffect","useState","database","ref","onValue","off","Line","Chart","registerables","jsxDEV","_jsxDEV","register","TemperatureDisplay","_s","temperatures","setTemperatures","temperaturesRef","unsubscribe","snapshot","tempData","val","tempArray","Object","keys","map","key","id","formatChartData","label","dataKey","labels","temp","Date","timestamp","toLocaleTimeString","data","datasets","borderColor","backgroundColor","borderWidth","fill","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/000 IMP/hps/src/scenes/All_Temp/index.jsx"],"sourcesContent":["// TemperatureDisplay.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { database } from '../../firebase'; // Adjust path to firebase.js as per your project structure\r\nimport { ref, onValue, off } from \"firebase/database\";\r\nimport { Line } from 'react-chartjs-2';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport './Temp.css'; // Import CSS file for styling\r\n\r\nChart.register(...registerables);\r\n\r\nconst TemperatureDisplay = () => {\r\n  const [temperatures, setTemperatures] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const temperaturesRef = ref(database, 'realtimedata');\r\n\r\n    // Attach an event listener for changes in temperatures\r\n    const unsubscribe = onValue(temperaturesRef, (snapshot) => {\r\n      const tempData = snapshot.val();\r\n      if (tempData) {\r\n        // Convert the snapshot to an array of objects\r\n        const tempArray = Object.keys(tempData).map((key) => ({\r\n          id: key,\r\n          ...tempData[key],\r\n        }));\r\n        setTemperatures(tempArray);\r\n      }\r\n    });\r\n\r\n    // Clean up listener on component unmount\r\n    return () => {\r\n      off(temperaturesRef);\r\n    };\r\n  }, []);\r\n\r\n  const formatChartData = (label, dataKey) => {\r\n    const labels = temperatures.map(temp => new Date(temp.timestamp).toLocaleTimeString());\r\n    const data = temperatures.map(temp => temp[dataKey]);\r\n\r\n    return {\r\n      labels,\r\n      datasets: [{\r\n        label,\r\n        data,\r\n        borderColor: 'rgba(75,192,192,1)',\r\n        backgroundColor: 'rgba(75,192,192,0.2)',\r\n        borderWidth: 2,\r\n        fill: true\r\n      }]\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"temperature-container\">\r\n      <h2>Real-Time Temperature Values</h2>\r\n      <div className=\"chart-container\">\r\n        <div className=\"chart\">\r\n          <h3>Oil Temperature</h3>\r\n          <Line data={formatChartData('Oil Temperature', 'ot')} />\r\n        </div>\r\n        <div className=\"chart\">\r\n          <h3>LV Winding Temperature</h3>\r\n          <Line data={formatChartData('LV Winding Temperature', 'lvt')} />\r\n        </div>\r\n        <div className=\"chart\">\r\n          <h3>LV1 Winding Temperature</h3>\r\n          <Line data={formatChartData('LV1 Winding Temperature', 'lv1t')} />\r\n        </div>\r\n        <div className=\"chart\">\r\n          <h3>LV2 Winding Temperature</h3>\r\n          <Line data={formatChartData('LV2 Winding Temperature', 'lv2t')} />\r\n        </div>\r\n        <div className=\"chart\">\r\n          <h3>HV Winding Temperature</h3>\r\n          <Line data={formatChartData('HV Winding Temperature', 'hvt')} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemperatureDisplay;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,gBAAgB,CAAC,CAAC;AAC3C,SAASC,GAAG,EAAEC,OAAO,EAAEC,GAAG,QAAQ,mBAAmB;AACrD,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,KAAK,EAAEC,aAAa,QAAQ,UAAU;AAC/C,OAAO,YAAY,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErBH,KAAK,CAACI,QAAQ,CAAC,GAAGH,aAAa,CAAC;AAEhC,MAAMI,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd,MAAMgB,eAAe,GAAGb,GAAG,CAACD,QAAQ,EAAE,cAAc,CAAC;;IAErD;IACA,MAAMe,WAAW,GAAGb,OAAO,CAACY,eAAe,EAAGE,QAAQ,IAAK;MACzD,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC/B,IAAID,QAAQ,EAAE;QACZ;QACA,MAAME,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACJ,QAAQ,CAAC,CAACK,GAAG,CAAEC,GAAG,KAAM;UACpDC,EAAE,EAAED,GAAG;UACP,GAAGN,QAAQ,CAACM,GAAG;QACjB,CAAC,CAAC,CAAC;QACHV,eAAe,CAACM,SAAS,CAAC;MAC5B;IACF,CAAC,CAAC;;IAEF;IACA,OAAO,MAAM;MACXhB,GAAG,CAACW,eAAe,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,eAAe,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAK;IAC1C,MAAMC,MAAM,GAAGhB,YAAY,CAACU,GAAG,CAACO,IAAI,IAAI,IAAIC,IAAI,CAACD,IAAI,CAACE,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAC;IACtF,MAAMC,IAAI,GAAGrB,YAAY,CAACU,GAAG,CAACO,IAAI,IAAIA,IAAI,CAACF,OAAO,CAAC,CAAC;IAEpD,OAAO;MACLC,MAAM;MACNM,QAAQ,EAAE,CAAC;QACTR,KAAK;QACLO,IAAI;QACJE,WAAW,EAAE,oBAAoB;QACjCC,eAAe,EAAE,sBAAsB;QACvCC,WAAW,EAAE,CAAC;QACdC,IAAI,EAAE;MACR,CAAC;IACH,CAAC;EACH,CAAC;EAED,oBACE9B,OAAA;IAAK+B,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpChC,OAAA;MAAAgC,QAAA,EAAI;IAA4B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrCpC,OAAA;MAAK+B,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BhC,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBhC,OAAA;UAAAgC,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxBpC,OAAA,CAACJ,IAAI;UAAC6B,IAAI,EAAER,eAAe,CAAC,iBAAiB,EAAE,IAAI;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC,eACNpC,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBhC,OAAA;UAAAgC,QAAA,EAAI;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/BpC,OAAA,CAACJ,IAAI;UAAC6B,IAAI,EAAER,eAAe,CAAC,wBAAwB,EAAE,KAAK;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CAAC,eACNpC,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBhC,OAAA;UAAAgC,QAAA,EAAI;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChCpC,OAAA,CAACJ,IAAI;UAAC6B,IAAI,EAAER,eAAe,CAAC,yBAAyB,EAAE,MAAM;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC,eACNpC,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBhC,OAAA;UAAAgC,QAAA,EAAI;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChCpC,OAAA,CAACJ,IAAI;UAAC6B,IAAI,EAAER,eAAe,CAAC,yBAAyB,EAAE,MAAM;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC,eACNpC,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBhC,OAAA;UAAAgC,QAAA,EAAI;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/BpC,OAAA,CAACJ,IAAI;UAAC6B,IAAI,EAAER,eAAe,CAAC,wBAAwB,EAAE,KAAK;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjC,EAAA,CArEID,kBAAkB;AAAAmC,EAAA,GAAlBnC,kBAAkB;AAuExB,eAAeA,kBAAkB;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}